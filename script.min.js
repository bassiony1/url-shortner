function removeCopy(){[...document.querySelectorAll("[data-copy]")].forEach(e=>{e.classList.contains("copy")&&e.classList.remove("copy")})}async function get_shortUrl(e){let t=await fetch(`https://api.shrtco.de/v2/shorten?url=${e}`),r=await t.json();return r.result.full_short_link}const exitBtn=document.querySelector("[data-exit]"),burgerBtn=document.querySelector("[data-burger]"),asider=document.querySelector("[data-asider]"),menu=document.querySelector("[data-menu]"),shortBtn=document.querySelector("[data-search]"),inputText=document.querySelector("[data-input]"),results=document.querySelector("[data-result]");let copyBtns=[...document.querySelectorAll("[data-copy]")],linkText="",x=null;inputText.addEventListener("input",e=>{linkText=e.target.value}),shortBtn.addEventListener("click",async e=>{if(e.preventDefault(),""===linkText)inputText.classList.add("error"),null!==x&&clearTimeout(x),x=setTimeout(()=>{inputText.classList.remove("error")},2e3);else{let e=await get_shortUrl(linkText),t=document.createElement("div");t.classList.add("result");let r=document.createElement("span");r.classList.add("original-link"),r.innerText=linkText,t.appendChild(r);let n=document.createElement("a");n.classList.add("short-link"),n.innerText=e,n.href=e,n.target="_blank",t.appendChild(n);let a=document.createElement("button");a.classList.add("btn"),a.dataset.copy="",a.innerText="Copy",a.addEventListener("click",()=>{navigator.clipboard.writeText(e),removeCopy(),a.classList.add("copy"),a.innerText="Copied"}),n.classList.add("short-link"),t.appendChild(n),t.appendChild(a),results.prepend(t),linkText="",inputText.value=""}}),burgerBtn.addEventListener("click",()=>{asider.classList.add("show"),burgerBtn.classList.add("hide")}),exitBtn.addEventListener("click",()=>{asider.classList.remove("show"),burgerBtn.classList.remove("hide")}),menu.addEventListener("click",e=>{e.stopPropagation()}),asider.addEventListener("click",e=>{asider.classList.remove("show"),burgerBtn.classList.remove("hide")});